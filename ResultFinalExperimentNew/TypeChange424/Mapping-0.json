[{"OriginalCompleteBefore": "return CacheResult.hit(STR0,ArtifactCacheMode.dir).withMetadata(metadata);", "OriginalCompleteAfter": "return Futures.immediateFuture(CacheResult.hit(STR0,ArtifactCacheMode.dir).withMetadata(metadata));", "Before": "CacheResult.hit(STR0,ArtifactCacheMode.dir).withMetadata(metadata)", "After": "Futures.immediateFuture(CacheResult.hit(STR0,ArtifactCacheMode.dir).withMetadata(metadata))", "Project": "buck", "Commit": "2a4427cfc25f692da01462735bcf854c4df90f2e", "CompilationUnit": "com.facebook.buck.rules.CachingBuildEngineTest.FakeArtifactCacheThatWritesAZipFile", "LineNos": {"_1": 3572, "_2": 3591}, "Names": {"_1": "fetch", "_2": "fetchAsync"}, "TemplateVariableToCodeBefore": {"v0": "CacheResult.hit(STR0,ArtifactCacheMode.dir).withMetadata(metadata)"}, "RelevantImports": ["com.google.common.util.concurrent.Futures"], "TemplateVariableToCodeAfter": {"v0": "CacheResult.hit(STR0,ArtifactCacheMode.dir).withMetadata(metadata)"}, "isRelevant": "Returns", "isSafe": true}, {"OriginalCompleteBefore": "return CacheResult.error(STR0,ArtifactCacheMode.http,STR1);", "OriginalCompleteAfter": "return Futures.immediateFuture(CacheResult.error(STR0,ArtifactCacheMode.http,STR1));", "Before": "CacheResult.error(STR0,ArtifactCacheMode.http,STR1)", "After": "Futures.immediateFuture(CacheResult.error(STR0,ArtifactCacheMode.http,STR1))", "Project": "buck", "Commit": "2a4427cfc25f692da01462735bcf854c4df90f2e", "CompilationUnit": "com.facebook.buck.artifact_cache.MultiArtifactCacheTest.ErroringArtifactCache", "LineNos": {"_1": 55, "_2": 54}, "Names": {"_1": "fetch", "_2": "fetchAsync"}, "TemplateVariableToCodeBefore": {"v0": "CacheResult.error(STR0,ArtifactCacheMode.http,STR1)"}, "RelevantImports": ["com.google.common.util.concurrent.Futures"], "TemplateVariableToCodeAfter": {"v0": "CacheResult.error(STR0,ArtifactCacheMode.http,STR1)"}, "isRelevant": "Returns", "isSafe": true}, {"OriginalCompleteBefore": "return CacheResult.miss();", "OriginalCompleteAfter": "return Futures.immediateFuture(CacheResult.miss());", "Before": "CacheResult.miss()", "After": "Futures.immediateFuture(CacheResult.miss())", "Project": "buck", "Commit": "2a4427cfc25f692da01462735bcf854c4df90f2e", "CompilationUnit": "com.facebook.buck.artifact_cache.NoopArtifactCache", "LineNos": {"_1": 27, "_2": 26}, "Names": {"_1": "fetch", "_2": "fetchAsync"}, "TemplateVariableToCodeBefore": {"v0": "CacheResult.miss()"}, "RelevantImports": ["com.google.common.util.concurrent.Futures"], "TemplateVariableToCodeAfter": {"v0": "CacheResult.miss()"}, "isRelevant": "Returns", "isSafe": true}, {"OriginalCompleteBefore": "return fetchResult;", "OriginalCompleteAfter": "return Futures.immediateFuture(fetchResult);", "Before": "fetchResult", "After": "Futures.immediateFuture(fetchResult)", "Project": "buck", "Commit": "2a4427cfc25f692da01462735bcf854c4df90f2e", "CompilationUnit": "com.facebook.buck.artifact_cache.LoggingArtifactCacheDecorator", "LineNos": {"_1": 41, "_2": 42}, "Names": {"_1": "fetch", "_2": "fetchAsync"}, "TemplateVariableToCodeBefore": {"v0": "fetchResult"}, "RelevantImports": ["com.google.common.util.concurrent.Futures"], "TemplateVariableToCodeAfter": {"v0": "fetchResult"}, "isRelevant": "Returns", "isSafe": true}, {"OriginalCompleteBefore": "return Optional.empty();", "OriginalCompleteAfter": "return Futures.immediateFuture(Optional.empty());", "Before": "Optional.empty()", "After": "Futures.immediateFuture(Optional.empty())", "Project": "buck", "Commit": "89a4820fb068f57c846816eb4fd6a17045d54f95", "CompilationUnit": "com.facebook.buck.rules.CachingBuildRuleBuilder", "LineNos": {"_1": 665, "_2": 665}, "Names": {"_1": "checkManifestBasedCaches", "_2": "checkManifestBasedCaches"}, "TemplateVariableToCodeBefore": {"v0": "Optional.empty()"}, "RelevantImports": ["com.google.common.util.concurrent.Futures"], "TemplateVariableToCodeAfter": {"v0": "Optional.empty()"}, "isRelevant": "Returns", "isSafe": true}, {"OriginalCompleteBefore": "return CacheResult.miss();", "OriginalCompleteAfter": "return Futures.immediateFuture(CacheResult.miss());", "Before": "CacheResult.miss()", "After": "Futures.immediateFuture(CacheResult.miss())", "Project": "buck", "Commit": "beb2360bd9f34f5cb3f8ed1cd7d0b55f168c0c39", "CompilationUnit": "com.facebook.buck.rules.CachingBuildEngine", "LineNos": {"_1": 1464, "_2": 1536}, "Names": {"_1": "performManifestBasedCacheFetch", "_2": "performManifestBasedCacheFetch"}, "TemplateVariableToCodeBefore": {"v0": "CacheResult.miss()"}, "RelevantImports": ["com.google.common.util.concurrent.Futures"], "TemplateVariableToCodeAfter": {"v0": "CacheResult.miss()"}, "isRelevant": "Returns", "isSafe": true}, {"OriginalCompleteBefore": "return CacheResult.miss();", "OriginalCompleteAfter": "return Futures.immediateFuture(CacheResult.miss());", "Before": "CacheResult.miss()", "After": "Futures.immediateFuture(CacheResult.miss())", "Project": "buck", "Commit": "beb2360bd9f34f5cb3f8ed1cd7d0b55f168c0c39", "CompilationUnit": "com.facebook.buck.rules.CachingBuildEngine", "LineNos": {"_1": 1464, "_2": 1536}, "Names": {"_1": "performManifestBasedCacheFetch", "_2": "performManifestBasedCacheFetch"}, "TemplateVariableToCodeBefore": {"v0": "CacheResult.miss()"}, "RelevantImports": ["com.google.common.util.concurrent.Futures"], "TemplateVariableToCodeAfter": {"v0": "CacheResult.miss()"}, "isRelevant": "Returns", "isSafe": true}, {"OriginalCompleteBefore": "return CacheResult.ignored();", "OriginalCompleteAfter": "return Futures.immediateFuture(CacheResult.ignored());", "Before": "CacheResult.ignored()", "After": "Futures.immediateFuture(CacheResult.ignored())", "Project": "buck", "Commit": "beb2360bd9f34f5cb3f8ed1cd7d0b55f168c0c39", "CompilationUnit": "com.facebook.buck.rules.CachingBuildEngine", "LineNos": {"_1": 1132, "_2": 1157}, "Names": {"_1": "tryToFetchArtifactFromBuildCacheAndOverlayOnTopOfProjectFilesystem", "_2": "tryToFetchArtifactFromBuildCacheAndOverlayOnTopOfProjectFilesystem"}, "TemplateVariableToCodeBefore": {"v0": "CacheResult.ignored()"}, "RelevantImports": ["com.google.common.util.concurrent.Futures"], "TemplateVariableToCodeAfter": {"v0": "CacheResult.ignored()"}, "isRelevant": "Returns", "isSafe": true}, {"OriginalCompleteBefore": "return ImmutableSet.copyOf(digests);", "OriginalCompleteAfter": "return Futures.immediateFuture(ImmutableSet.copyOf(digests));", "Before": "ImmutableSet.copyOf(digests)", "After": "Futures.immediateFuture(ImmutableSet.copyOf(digests))", "Project": "bazel", "Commit": "120cd54c3cdb6e90470ffd3ff275531f776f54a8", "CompilationUnit": "com.google.devtools.build.lib.remote.SimpleBlobStoreActionCache", "LineNos": {"_1": 84, "_2": 84}, "Names": {"_1": "getMissingDigests", "_2": "findMissingDigests"}, "TemplateVariableToCodeBefore": {"v0": "ImmutableSet.copyOf(digests)"}, "RelevantImports": ["com.google.common.util.concurrent.Futures"], "TemplateVariableToCodeAfter": {"v0": "ImmutableSet.copyOf(digests)"}, "isRelevant": "Returns", "isSafe": true}, {"OriginalCompleteBefore": "return ImmutableSet.of();", "OriginalCompleteAfter": "return Futures.immediateFuture(ImmutableSet.of());", "Before": "ImmutableSet.of()", "After": "Futures.immediateFuture(ImmutableSet.of())", "Project": "bazel", "Commit": "120cd54c3cdb6e90470ffd3ff275531f776f54a8", "CompilationUnit": "com.google.devtools.build.lib.remote.GrpcRemoteCache", "LineNos": {"_1": 163, "_2": 162}, "Names": {"_1": "getMissingDigests", "_2": "findMissingDigests"}, "TemplateVariableToCodeBefore": {"v0": "ImmutableSet.of()"}, "RelevantImports": ["com.google.common.util.concurrent.Futures"], "TemplateVariableToCodeAfter": {"v0": "ImmutableSet.of()"}, "isRelevant": "Returns", "isSafe": true}, {"OriginalCompleteBefore": "return fingerprintToContents.get(fingerprint);", "OriginalCompleteAfter": "return Futures.immediateFuture(fingerprintToContents.get(fingerprint));", "Before": "fingerprintToContents.get(fingerprint)", "After": "Futures.immediateFuture(fingerprintToContents.get(fingerprint))", "Project": "bazel", "Commit": "9bbc66c8613deb4233e3cb116d0aae5724eece7f", "CompilationUnit": "com.google.devtools.build.lib.collect.nestedset.NestedSetStore.InMemoryNestedSetStorageEndpoint", "LineNos": {"_1": 87, "_2": 92}, "Names": {"_1": "get", "_2": "get"}, "TemplateVariableToCodeBefore": {"v0": "fingerprintToContents.get(fingerprint)"}, "RelevantImports": ["com.google.common.util.concurrent.Futures"], "TemplateVariableToCodeAfter": {"v0": "fingerprintToContents.get(fingerprint)"}, "isRelevant": "Returns", "isSafe": true}, {"OriginalCompleteBefore": "return Optional.of(BuildResult.success(rule,BuildRuleSuccessType.MATCHING_INPUT_BASED_RULE_KEY,CacheResult.localKeyUnchangedHit()));", "OriginalCompleteAfter": "return Futures.immediateFuture(Optional.of(BuildResult.success(rule,BuildRuleSuccessType.MATCHING_INPUT_BASED_RULE_KEY,CacheResult.localKeyUnchangedHit())));", "Before": "Optional.of(BuildResult.success(rule,BuildRuleSuccessType.MATCHING_INPUT_BASED_RULE_KEY,CacheResult.localKeyUnchangedHit()))", "After": "Futures.immediateFuture(Optional.of(BuildResult.success(rule,BuildRuleSuccessType.MATCHING_INPUT_BASED_RULE_KEY,CacheResult.localKeyUnchangedHit())))", "Project": "buck", "Commit": "a7f1399f78ff00eaa091912ff4c24d0d1ef3d0a2", "CompilationUnit": "com.facebook.buck.rules.CachingBuildRuleBuilder", "LineNos": {"_1": 1486, "_2": 1479}, "Names": {"_1": "performInputBasedCacheFetch", "_2": "performInputBasedCacheFetch"}, "TemplateVariableToCodeBefore": {"v0": "Optional.of(BuildResult.success(rule,BuildRuleSuccessType.MATCHING_INPUT_BASED_RULE_KEY,CacheResult.localKeyUnchangedHit()))"}, "RelevantImports": ["com.google.common.util.concurrent.Futures"], "TemplateVariableToCodeAfter": {"v0": "Optional.of(BuildResult.success(rule,BuildRuleSuccessType.MATCHING_INPUT_BASED_RULE_KEY,CacheResult.localKeyUnchangedHit()))"}, "isRelevant": "Returns", "isSafe": true}, {"OriginalCompleteBefore": "return Optional.empty();", "OriginalCompleteAfter": "return Futures.immediateFuture(Optional.empty());", "Before": "Optional.empty()", "After": "Futures.immediateFuture(Optional.empty())", "Project": "buck", "Commit": "a7f1399f78ff00eaa091912ff4c24d0d1ef3d0a2", "CompilationUnit": "com.facebook.buck.rules.CachingBuildRuleBuilder", "LineNos": {"_1": 702, "_2": 702}, "Names": {"_1": "checkInputBasedCaches", "_2": "checkInputBasedCaches"}, "TemplateVariableToCodeBefore": {"v0": "Optional.empty()"}, "RelevantImports": ["com.google.common.util.concurrent.Futures"], "TemplateVariableToCodeAfter": {"v0": "Optional.empty()"}, "isRelevant": "Returns", "isSafe": true}]