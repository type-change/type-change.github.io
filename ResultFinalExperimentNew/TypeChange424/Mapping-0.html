<table border="1"><thead><tr><th>OriginalCompleteBefore</th><th>OriginalCompleteAfter</th><th>Before</th><th>After</th><th>Project</th><th>Commit</th><th>CompilationUnit</th><th>LineNos</th><th>Names</th><th>TemplateVariableToCodeBefore</th><th>RelevantImports</th><th>TemplateVariableToCodeAfter</th><th>isRelevant</th><th>isSafe</th></tr></thead><tbody><tr><td>return CacheResult.hit(STR0,ArtifactCacheMode.dir).withMetadata(metadata);</td><td>return Futures.immediateFuture(CacheResult.hit(STR0,ArtifactCacheMode.dir).withMetadata(metadata));</td><td>CacheResult.hit(STR0,ArtifactCacheMode.dir).withMetadata(metadata)</td><td>Futures.immediateFuture(CacheResult.hit(STR0,ArtifactCacheMode.dir).withMetadata(metadata))</td><td>buck</td><td>2a4427cfc25f692da01462735bcf854c4df90f2e</td><td>com.facebook.buck.rules.CachingBuildEngineTest.FakeArtifactCacheThatWritesAZipFile</td><td><table border="1"><tr><th>_1</th><td>3572</td></tr><tr><th>_2</th><td>3591</td></tr></table></td><td><table border="1"><tr><th>_1</th><td>fetch</td></tr><tr><th>_2</th><td>fetchAsync</td></tr></table></td><td><table border="1"><tr><th>v0</th><td>CacheResult.hit(STR0,ArtifactCacheMode.dir).withMetadata(metadata)</td></tr></table></td><td><ul><li>com.google.common.util.concurrent.Futures</li></ul></td><td><table border="1"><tr><th>v0</th><td>CacheResult.hit(STR0,ArtifactCacheMode.dir).withMetadata(metadata)</td></tr></table></td><td>Returns</td><td>True</td></tr><tr><td>return CacheResult.error(STR0,ArtifactCacheMode.http,STR1);</td><td>return Futures.immediateFuture(CacheResult.error(STR0,ArtifactCacheMode.http,STR1));</td><td>CacheResult.error(STR0,ArtifactCacheMode.http,STR1)</td><td>Futures.immediateFuture(CacheResult.error(STR0,ArtifactCacheMode.http,STR1))</td><td>buck</td><td>2a4427cfc25f692da01462735bcf854c4df90f2e</td><td>com.facebook.buck.artifact_cache.MultiArtifactCacheTest.ErroringArtifactCache</td><td><table border="1"><tr><th>_1</th><td>55</td></tr><tr><th>_2</th><td>54</td></tr></table></td><td><table border="1"><tr><th>_1</th><td>fetch</td></tr><tr><th>_2</th><td>fetchAsync</td></tr></table></td><td><table border="1"><tr><th>v0</th><td>CacheResult.error(STR0,ArtifactCacheMode.http,STR1)</td></tr></table></td><td><ul><li>com.google.common.util.concurrent.Futures</li></ul></td><td><table border="1"><tr><th>v0</th><td>CacheResult.error(STR0,ArtifactCacheMode.http,STR1)</td></tr></table></td><td>Returns</td><td>True</td></tr><tr><td>return CacheResult.miss();</td><td>return Futures.immediateFuture(CacheResult.miss());</td><td>CacheResult.miss()</td><td>Futures.immediateFuture(CacheResult.miss())</td><td>buck</td><td>2a4427cfc25f692da01462735bcf854c4df90f2e</td><td>com.facebook.buck.artifact_cache.NoopArtifactCache</td><td><table border="1"><tr><th>_1</th><td>27</td></tr><tr><th>_2</th><td>26</td></tr></table></td><td><table border="1"><tr><th>_1</th><td>fetch</td></tr><tr><th>_2</th><td>fetchAsync</td></tr></table></td><td><table border="1"><tr><th>v0</th><td>CacheResult.miss()</td></tr></table></td><td><ul><li>com.google.common.util.concurrent.Futures</li></ul></td><td><table border="1"><tr><th>v0</th><td>CacheResult.miss()</td></tr></table></td><td>Returns</td><td>True</td></tr><tr><td>return fetchResult;</td><td>return Futures.immediateFuture(fetchResult);</td><td>fetchResult</td><td>Futures.immediateFuture(fetchResult)</td><td>buck</td><td>2a4427cfc25f692da01462735bcf854c4df90f2e</td><td>com.facebook.buck.artifact_cache.LoggingArtifactCacheDecorator</td><td><table border="1"><tr><th>_1</th><td>41</td></tr><tr><th>_2</th><td>42</td></tr></table></td><td><table border="1"><tr><th>_1</th><td>fetch</td></tr><tr><th>_2</th><td>fetchAsync</td></tr></table></td><td><table border="1"><tr><th>v0</th><td>fetchResult</td></tr></table></td><td><ul><li>com.google.common.util.concurrent.Futures</li></ul></td><td><table border="1"><tr><th>v0</th><td>fetchResult</td></tr></table></td><td>Returns</td><td>True</td></tr><tr><td>return Optional.empty();</td><td>return Futures.immediateFuture(Optional.empty());</td><td>Optional.empty()</td><td>Futures.immediateFuture(Optional.empty())</td><td>buck</td><td>89a4820fb068f57c846816eb4fd6a17045d54f95</td><td>com.facebook.buck.rules.CachingBuildRuleBuilder</td><td><table border="1"><tr><th>_1</th><td>665</td></tr><tr><th>_2</th><td>665</td></tr></table></td><td><table border="1"><tr><th>_1</th><td>checkManifestBasedCaches</td></tr><tr><th>_2</th><td>checkManifestBasedCaches</td></tr></table></td><td><table border="1"><tr><th>v0</th><td>Optional.empty()</td></tr></table></td><td><ul><li>com.google.common.util.concurrent.Futures</li></ul></td><td><table border="1"><tr><th>v0</th><td>Optional.empty()</td></tr></table></td><td>Returns</td><td>True</td></tr><tr><td>return CacheResult.miss();</td><td>return Futures.immediateFuture(CacheResult.miss());</td><td>CacheResult.miss()</td><td>Futures.immediateFuture(CacheResult.miss())</td><td>buck</td><td>beb2360bd9f34f5cb3f8ed1cd7d0b55f168c0c39</td><td>com.facebook.buck.rules.CachingBuildEngine</td><td><table border="1"><tr><th>_1</th><td>1464</td></tr><tr><th>_2</th><td>1536</td></tr></table></td><td><table border="1"><tr><th>_1</th><td>performManifestBasedCacheFetch</td></tr><tr><th>_2</th><td>performManifestBasedCacheFetch</td></tr></table></td><td><table border="1"><tr><th>v0</th><td>CacheResult.miss()</td></tr></table></td><td><ul><li>com.google.common.util.concurrent.Futures</li></ul></td><td><table border="1"><tr><th>v0</th><td>CacheResult.miss()</td></tr></table></td><td>Returns</td><td>True</td></tr><tr><td>return CacheResult.miss();</td><td>return Futures.immediateFuture(CacheResult.miss());</td><td>CacheResult.miss()</td><td>Futures.immediateFuture(CacheResult.miss())</td><td>buck</td><td>beb2360bd9f34f5cb3f8ed1cd7d0b55f168c0c39</td><td>com.facebook.buck.rules.CachingBuildEngine</td><td><table border="1"><tr><th>_1</th><td>1464</td></tr><tr><th>_2</th><td>1536</td></tr></table></td><td><table border="1"><tr><th>_1</th><td>performManifestBasedCacheFetch</td></tr><tr><th>_2</th><td>performManifestBasedCacheFetch</td></tr></table></td><td><table border="1"><tr><th>v0</th><td>CacheResult.miss()</td></tr></table></td><td><ul><li>com.google.common.util.concurrent.Futures</li></ul></td><td><table border="1"><tr><th>v0</th><td>CacheResult.miss()</td></tr></table></td><td>Returns</td><td>True</td></tr><tr><td>return CacheResult.ignored();</td><td>return Futures.immediateFuture(CacheResult.ignored());</td><td>CacheResult.ignored()</td><td>Futures.immediateFuture(CacheResult.ignored())</td><td>buck</td><td>beb2360bd9f34f5cb3f8ed1cd7d0b55f168c0c39</td><td>com.facebook.buck.rules.CachingBuildEngine</td><td><table border="1"><tr><th>_1</th><td>1132</td></tr><tr><th>_2</th><td>1157</td></tr></table></td><td><table border="1"><tr><th>_1</th><td>tryToFetchArtifactFromBuildCacheAndOverlayOnTopOfProjectFilesystem</td></tr><tr><th>_2</th><td>tryToFetchArtifactFromBuildCacheAndOverlayOnTopOfProjectFilesystem</td></tr></table></td><td><table border="1"><tr><th>v0</th><td>CacheResult.ignored()</td></tr></table></td><td><ul><li>com.google.common.util.concurrent.Futures</li></ul></td><td><table border="1"><tr><th>v0</th><td>CacheResult.ignored()</td></tr></table></td><td>Returns</td><td>True</td></tr><tr><td>return ImmutableSet.copyOf(digests);</td><td>return Futures.immediateFuture(ImmutableSet.copyOf(digests));</td><td>ImmutableSet.copyOf(digests)</td><td>Futures.immediateFuture(ImmutableSet.copyOf(digests))</td><td>bazel</td><td>120cd54c3cdb6e90470ffd3ff275531f776f54a8</td><td>com.google.devtools.build.lib.remote.SimpleBlobStoreActionCache</td><td><table border="1"><tr><th>_1</th><td>84</td></tr><tr><th>_2</th><td>84</td></tr></table></td><td><table border="1"><tr><th>_1</th><td>getMissingDigests</td></tr><tr><th>_2</th><td>findMissingDigests</td></tr></table></td><td><table border="1"><tr><th>v0</th><td>ImmutableSet.copyOf(digests)</td></tr></table></td><td><ul><li>com.google.common.util.concurrent.Futures</li></ul></td><td><table border="1"><tr><th>v0</th><td>ImmutableSet.copyOf(digests)</td></tr></table></td><td>Returns</td><td>True</td></tr><tr><td>return ImmutableSet.of();</td><td>return Futures.immediateFuture(ImmutableSet.of());</td><td>ImmutableSet.of()</td><td>Futures.immediateFuture(ImmutableSet.of())</td><td>bazel</td><td>120cd54c3cdb6e90470ffd3ff275531f776f54a8</td><td>com.google.devtools.build.lib.remote.GrpcRemoteCache</td><td><table border="1"><tr><th>_1</th><td>163</td></tr><tr><th>_2</th><td>162</td></tr></table></td><td><table border="1"><tr><th>_1</th><td>getMissingDigests</td></tr><tr><th>_2</th><td>findMissingDigests</td></tr></table></td><td><table border="1"><tr><th>v0</th><td>ImmutableSet.of()</td></tr></table></td><td><ul><li>com.google.common.util.concurrent.Futures</li></ul></td><td><table border="1"><tr><th>v0</th><td>ImmutableSet.of()</td></tr></table></td><td>Returns</td><td>True</td></tr><tr><td>return fingerprintToContents.get(fingerprint);</td><td>return Futures.immediateFuture(fingerprintToContents.get(fingerprint));</td><td>fingerprintToContents.get(fingerprint)</td><td>Futures.immediateFuture(fingerprintToContents.get(fingerprint))</td><td>bazel</td><td>9bbc66c8613deb4233e3cb116d0aae5724eece7f</td><td>com.google.devtools.build.lib.collect.nestedset.NestedSetStore.InMemoryNestedSetStorageEndpoint</td><td><table border="1"><tr><th>_1</th><td>87</td></tr><tr><th>_2</th><td>92</td></tr></table></td><td><table border="1"><tr><th>_1</th><td>get</td></tr><tr><th>_2</th><td>get</td></tr></table></td><td><table border="1"><tr><th>v0</th><td>fingerprintToContents.get(fingerprint)</td></tr></table></td><td><ul><li>com.google.common.util.concurrent.Futures</li></ul></td><td><table border="1"><tr><th>v0</th><td>fingerprintToContents.get(fingerprint)</td></tr></table></td><td>Returns</td><td>True</td></tr><tr><td>return Optional.of(BuildResult.success(rule,BuildRuleSuccessType.MATCHING_INPUT_BASED_RULE_KEY,CacheResult.localKeyUnchangedHit()));</td><td>return Futures.immediateFuture(Optional.of(BuildResult.success(rule,BuildRuleSuccessType.MATCHING_INPUT_BASED_RULE_KEY,CacheResult.localKeyUnchangedHit())));</td><td>Optional.of(BuildResult.success(rule,BuildRuleSuccessType.MATCHING_INPUT_BASED_RULE_KEY,CacheResult.localKeyUnchangedHit()))</td><td>Futures.immediateFuture(Optional.of(BuildResult.success(rule,BuildRuleSuccessType.MATCHING_INPUT_BASED_RULE_KEY,CacheResult.localKeyUnchangedHit())))</td><td>buck</td><td>a7f1399f78ff00eaa091912ff4c24d0d1ef3d0a2</td><td>com.facebook.buck.rules.CachingBuildRuleBuilder</td><td><table border="1"><tr><th>_1</th><td>1486</td></tr><tr><th>_2</th><td>1479</td></tr></table></td><td><table border="1"><tr><th>_1</th><td>performInputBasedCacheFetch</td></tr><tr><th>_2</th><td>performInputBasedCacheFetch</td></tr></table></td><td><table border="1"><tr><th>v0</th><td>Optional.of(BuildResult.success(rule,BuildRuleSuccessType.MATCHING_INPUT_BASED_RULE_KEY,CacheResult.localKeyUnchangedHit()))</td></tr></table></td><td><ul><li>com.google.common.util.concurrent.Futures</li></ul></td><td><table border="1"><tr><th>v0</th><td>Optional.of(BuildResult.success(rule,BuildRuleSuccessType.MATCHING_INPUT_BASED_RULE_KEY,CacheResult.localKeyUnchangedHit()))</td></tr></table></td><td>Returns</td><td>True</td></tr><tr><td>return Optional.empty();</td><td>return Futures.immediateFuture(Optional.empty());</td><td>Optional.empty()</td><td>Futures.immediateFuture(Optional.empty())</td><td>buck</td><td>a7f1399f78ff00eaa091912ff4c24d0d1ef3d0a2</td><td>com.facebook.buck.rules.CachingBuildRuleBuilder</td><td><table border="1"><tr><th>_1</th><td>702</td></tr><tr><th>_2</th><td>702</td></tr></table></td><td><table border="1"><tr><th>_1</th><td>checkInputBasedCaches</td></tr><tr><th>_2</th><td>checkInputBasedCaches</td></tr></table></td><td><table border="1"><tr><th>v0</th><td>Optional.empty()</td></tr></table></td><td><ul><li>com.google.common.util.concurrent.Futures</li></ul></td><td><table border="1"><tr><th>v0</th><td>Optional.empty()</td></tr></table></td><td>Returns</td><td>True</td></tr></tbody></table>